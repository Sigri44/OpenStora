<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15.4" />
		<meta name="robots" content="noindex,nofollow" />
		<meta name="keywords" content="MiniDLNA How-To (with guide to updating),Craigchambers" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="https://sigri44.github.io/OpenStora/wiki/opensearch_desc.php" title="OpenStora (en)" />
		<link rel="alternate" type="application/rss+xml" title="OpenStora RSS feed" href="https://sigri44.github.io/OpenStora/wiki/index_Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="OpenStora Atom feed" href="https://sigri44.github.io/OpenStora/wiki/index_Special:RecentChanges&amp;feed=atom" />
		<title>MiniDLNA How-To (with guide to updating) - OpenStora</title>
		<link rel="stylesheet" href="https://sigri44.github.io/OpenStora/wiki/skins/common/shared.css?207" type="text/css" media="screen" />
		<link rel="stylesheet" href="https://sigri44.github.io/OpenStora/wiki/skins/common/commonPrint.css?207" type="text/css" media="print" />
		<link rel="stylesheet" href="https://sigri44.github.io/OpenStora/wiki/skins/monobook/main.css?207" type="text/css" media="screen" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="https://sigri44.github.io/OpenStora/wiki/skins/monobook/IE50Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="https://sigri44.github.io/OpenStora/wiki/skins/monobook/IE55Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="https://sigri44.github.io/OpenStora/wiki/skins/monobook/IE60Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="https://sigri44.github.io/OpenStora/wiki/skins/monobook/IE70Fixes.css?207" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="https://sigri44.github.io/OpenStora/wiki/index_MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" />
		<link rel="stylesheet" href="https://sigri44.github.io/OpenStora/wiki/index_MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" media="print" />
		<link rel="stylesheet" href="https://sigri44.github.io/OpenStora/wiki/index_MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" type="text/css" />
		<link rel="stylesheet" href="https://sigri44.github.io/OpenStora/wiki/index_-&amp;action=raw&amp;maxage=18000&amp;gen=css" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="https://sigri44.github.io/OpenStora/wiki/skins/common/IEFixes.js?207"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "https://sigri44.github.io/OpenStora/wiki/skins";
		var wgArticlePath = "https://sigri44.github.io/OpenStora/wiki/index_$1";
		var wgScriptPath = "/wiki";
		var wgScript = "https://sigri44.github.io/OpenStora/wiki/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "https://sigri44.github.io/OpenStora/";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "MiniDLNA_How-To_(with_guide_to_updating)";
		var wgTitle = "MiniDLNA How-To (with guide to updating)";
		var wgAction = "view";
		var wgArticleId = 90;
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 859;
		var wgVersion = "1.15.4";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="https://sigri44.github.io/OpenStora/wiki/skins/common/wikibits.js?207"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="https://sigri44.github.io/OpenStora/wiki/skins/common/ajax.js?207"></script>
		<script type="text/javascript" src="https://sigri44.github.io/OpenStora/wiki/index_-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-MiniDLNA_How-To_with_guide_to_updating skin-monobook">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">MiniDLNA How-To (with guide to updating)</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From OpenStora</h3>
			<div id="contentSub">
				<div id="mw-revision-info">Revision as of 11:28, 24 October 2011 by <a href="https://sigri44.github.io/OpenStora/wiki/index_User:Craigchambers&amp;action=edit&amp;redlink=1" class="new mw-userlink" title="User:Craigchambers (page does not exist)">Craigchambers</a>  <span class="mw-usertoollinks">(<a href="https://sigri44.github.io/OpenStora/wiki/index_User_talk:Craigchambers&amp;action=edit&amp;redlink=1" class="new" title="User talk:Craigchambers (page does not exist)">Talk</a>&#32;|&#32;<a href="https://sigri44.github.io/OpenStora/wiki/index_Special:Contributions/Craigchambers" title="Special:Contributions/Craigchambers">contribs</a>)</span></div>

				<div id="mw-revision-nav">(<a href="https://sigri44.github.io/OpenStora/wiki/index_MiniDLNA_How-To_(with_guide_to_updating)&amp;diff=prev&amp;oldid=859" title="MiniDLNA How-To (with guide to updating)">diff</a>) <a href="https://sigri44.github.io/OpenStora/wiki/index_MiniDLNA_How-To_(with_guide_to_updating)&amp;direction=prev&amp;oldid=859" title="MiniDLNA How-To (with guide to updating)">← Older revision</a>&#32;|&#32;Latest revision (diff)&#32;|&#32;Newer revision → (diff)</div>
			</div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<p><b>miniDLNA How-To … or … The Missing Manual</b>
</p><p>This text will attempt to tell you where miniDLNA puts its files, what it does and how you can adjust it. IT will also guide you though updating miniDLNA to the latest version. It assumes a standard Stora installation.
</p>
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Intended_Audience:"><span class="tocnumber">1</span> <span class="toctext">Intended Audience:</span></a></li>
<li class="toclevel-1"><a href="#Prerequisites:"><span class="tocnumber">2</span> <span class="toctext">Prerequisites:</span></a></li>
<li class="toclevel-1"><a href="#The_Basics:"><span class="tocnumber">3</span> <span class="toctext">The Basics:</span></a>
<ul>
<li class="toclevel-2"><a href="#The_files_for_miniDLNA:"><span class="tocnumber">3.1</span> <span class="toctext">The files for miniDLNA:</span></a></li>
<li class="toclevel-2"><a href="#Notes_regarding_.E2.80.9Cdebug.E2.80.9D_mode_and_.E2.80.9Crebuilding.E2.80.9D_the_database:"><span class="tocnumber">3.2</span> <span class="toctext">Notes regarding “debug” mode and “rebuilding” the database:</span></a></li>
<li class="toclevel-2"><a href="#The_miniDLNA_configuration_file:"><span class="tocnumber">3.3</span> <span class="toctext">The miniDLNA configuration file:</span></a></li>
<li class="toclevel-2"><a href="#Notes_regarding_Artwork:"><span class="tocnumber">3.4</span> <span class="toctext">Notes regarding Artwork:</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Updating_miniDLNA_to_the_v1.0.18:"><span class="tocnumber">4</span> <span class="toctext">Updating miniDLNA to the v1.0.18:</span></a></li>
<li class="toclevel-1"><a href="#Version_1.0.22"><span class="tocnumber">5</span> <span class="toctext">Version 1.0.22</span></a></li>
<li class="toclevel-1"><a href="#Comment_regarding_AVCHD_.28m2ts.29_on_Sony_equipment_with_1.0.18_version_of_miniDLNA"><span class="tocnumber">6</span> <span class="toctext">Comment regarding AVCHD (m2ts) on Sony equipment with 1.0.18 version of miniDLNA</span></a>
<ul>
<li class="toclevel-2"><a href="#AVCHD_Format"><span class="tocnumber">6.1</span> <span class="toctext">AVCHD Format</span></a></li>
</ul>
</li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Intended_Audience:" id="Intended_Audience:"></a><h2> <span class="mw-headline">Intended Audience:</span></h2>
<p>The hope is that this document will be written to provide some value to users of all levels. While the *nix guns will flash over some bits, other bits may save them a few minutes of playing and poking. While new users won’t find every bit of detail here, they will at least get a grasp on what is happening and where to look or go for help and guidance If they need it. If new users find that the introduction to a section refers to stuff they know nothing about, just keep reading, there will usually be a link for you towards the end of that section to steer you in the right direction or to find the files and detail you need to move on. If you’re a *nix gun and find all this mamby-pamby stuff a bit boring, all I ask is that you remember how there was a time when you were inside your mothers womb and didn’t quite know everything.
</p><p>If you can’t cope with that, then just press the back button on your browser now.
</p>
<a name="Prerequisites:" id="Prerequisites:"></a><h2> <span class="mw-headline">Prerequisites:</span></h2>
<p>The following text assumes that you have full file system access and can login to the Stora as the root user.
</p><p>Other assumptions are that you can navigate the filesystem using the command line or have a navigation tool you are comfortable with. One suggestion in this area is Midnight Commander for terminal mode access using FTP (putty).
</p><p>Midnight Commander can be installed using ipkg where the package is known as “mc”. The install is as simple as typing “ipkg install mc”. There are a few directory permission issues you need to resolve at the user level, to stop mc barfing on exit, but you’ll quickly work them out.
</p><p>For Windows users, who don’t already have a favourite FTP and/or filesystem Navigation tool, consider looking at WinSCP which can be found <a href="http://winscp.net/eng/index.php" class="external text" title="http://winscp.net/eng/index.php" rel="nofollow">"here"</a>
</p><p>The last assumption is that you can edit *nix style configuration and/or text files either using vi, nano, or another editor. This means that if you are using a Windows editor, you understand the difference between a *nix and win “text file”.
</p><p>If you don’t have “root” access, then all the details are available on the Wiki which can be found <a href=/wiki/index_Main_Page#Accessing_Root" class="external text" title="https://sigri44.github.io/OpenStora/wiki/index_Main_Page#Accessing_Root" rel="nofollow">"here"</a>
</p><p>If you haven’t installed ipkg yet, then all the details are available on the Wiki which can be found <a href=/wiki/index_Installing_a_package_manager" class="external text" title="https://sigri44.github.io/OpenStora/wiki/index_Installing_a_package_manager" rel="nofollow">"here"</a>
</p><p>If you haven’t done so yet, I would suggest you follow optional extra steps shown: install “nano” and edit the path variable. Nano is a lovely piece of work. It is small, quick, elegant, and so easy to use. While Midnight Commander and WinSCP have editors built-in you will still find nano really handy, so just do it&nbsp;:)
</p>
<a name="The_Basics:" id="The_Basics:"></a><h2> <span class="mw-headline">The Basics:</span></h2>
<p>miniDLNA is a DLNA server which has been written by a Netgear employee. However, the package is an open-source program and the source code along with a wiki and various tid-bits can be found <a href="http://sourceforge.net/projects/minidlna/" class="external text" title="http://sourceforge.net/projects/minidlna/" rel="nofollow">"here"</a>
</p><p>miniDLNA won’t transcode (convert between formats on the fly), nor will it  magically fix your broken DLNA client (expensive television). The reason your TV won’t do certain things are not the fault of miniDLNA. They are issues created by the DLNA licensing/certification organisation and your TV manufacturer. While the author of this document has found miniDLNA to be quite good supporting quirks from some TV manufacturers, it can not fix basic problems that the manufacturers should address but either can’t or won’t. These issues can not be solved or supported by Netgear, this site, or the author of this document.
</p><p>Extensive testing by the author of this document leads me to believe that miniDLNA may have a few quirks, although it is basically very sound. As a “server” or provider of data it can not and is not responsible for a particular file not playing or the sound not being right or even played on your TV or client. If pictures or images are not right, then chances are that your client (TV) doesn’t support them properly. miniDLNA has been tested serving files over 16GB with almost all known video and audio codecs and it has done it properly.
</p><p>So, in a nutshell, miniDLNA is simply a server which sends raw data to your client which will usually be a TV. What your TV does with the data is up to the TV. How your TV asks for the data is also the responsibility of the TV.
</p><p>miniDLNA runs as a background process in your Stora. It listens for requests from your TV and services them. Basically, your TV asks it what files it has available and what if any pictures it may have that go with the file list request, and miniDLNA tells it and throws the pictures (if any) at your TV. 
</p><p>To do this, it needs to know where you are going to dump the files, and it needs to know what sort of files it should look for. It tries to catch the filenames for these files as you drop them onto the Stora and keeps a database in a SQLite (v3) database which it manages and maintains. It also runs a “sweep” of the directory tree every once in a while and does it’s best to keep the database up to date and correct. The reason for the database is that when your TV asks miniDLNA what files or shows it has, it just looks into the database instead of scanning the entire disc. However, sometimes this database can get out of sync or it might miss something for a variety of reasons. It might also think that a file is corrupt or invalid, in which case it won’t add it to the database. If you change the name of a file (or directory) after you have put it on the Stora, then chances are that miniDLNA won’t notice or can’t track the change and that file (movie/song) won’t be available or shown to your TV/player. However, there are some simple things we can do to get miniDLNA to rebuild the database and we will get to these soon.
</p>
<a name="The_files_for_miniDLNA:" id="The_files_for_miniDLNA:"></a><h3> <span class="mw-headline">The files for miniDLNA:</span></h3>
<p><i>miniDLNA requires or creates the following files.</i>
</p><p>/usr/sbin/minidlna … the actual miniDLNA executable or daemon
</p><p>/etc/rc.d/init.d/minidlna.init … A script which start and stops miniDLNA
</p><p>/etc/miniupnpd/minidlna.conf … miniDLNA’s configuration file
</p><p>/mnt/tmpfs/var/run/minidlna.pid … a temp system file containing the process ID of the current (or a running) instance of miniDLNA
</p><p>/tmp/minidlna … The directory where miniDLNA stores its database and other stuff
</p><p>/tmp/minidlna/art_cache … The directory where miniDLNA creates and stores images (pictures/thumbnails) sent to your TV
</p><p>/tmp/minidlna/files.db … the database that miniDLNA creates/updates/uses
</p><p>/tmp/minidlna/minidlna.log … a log file created and updated byminiDLNA
</p><p><br />
The current version of miniDLNA is 1.0.18
</p><p>The current Stora version of miniDLNA is 1.0.17
</p><p>The previous “public” release version of miniDLNA was 1.0.16
</p><p><br />
<i>The latest release of miniDLNA requires the following packages:</i>
</p><p>- libexif - read/write (parse) EXIF data embedded within JPEG files
</p><p>- libjpeg – (version 8) a JPEG decoder/encoder (used to create thumbnails)
</p><p>- libid3tag - read/write ID3 tags
</p><p>- libFLAC - Lossless Audio Codec
</p><p>- libvorbis -Audio Codec
</p><p>- sqlite3 – SQL Database engine- libavformat (the ffmpeg libraries)
</p><p>- libavformat – libraries which provide calls to FFmpeg video libraries
</p><p>- libuuid - generates unique system file and or process ID numbers
</p><p><br />
The Stora version of miniDLNA does not requires all of these packages. Therefore, some of these packages are not installed on a standard Stora. For this reason, you can not replace or update the Stora version of miniDLNA with a standard release unless the appropriate packages are installed. Updating your miniDLNA will be detailed in another section of this document.
</p><p><b>Commands used to Start, Stop, Get Status and Rebuild Database:</b>
</p><p><b>stop minidlna:</b>         /etc/init.d/minidlna.init stop
</p><p><b>start minidlna:</b>     /etc/init.d/minidlna.init start
</p><p><b>status minidlna:</b>   /etc/init.d/minidlna.init status
</p><p><br />
<b>report version of minidlna:</b>	 /usr/sbin/minidlna -V
</p><p><b>run minidlna in debug mode:</b> 	/usr/sbin/minidlna -f /etc/miniupnpd/minidlna.conf -d
</p><p><b>rebuild minidlna database:</b>  	/usr/sbin/minidlna -f /etc/miniupnpd/minidlna.conf -R –d
</p><p><br />
<b>Note:</b> you should stop miniDLNA before you play with configuration files, or update any libraries it requires.
</p>
<a name="Notes_regarding_.E2.80.9Cdebug.E2.80.9D_mode_and_.E2.80.9Crebuilding.E2.80.9D_the_database:" id="Notes_regarding_.E2.80.9Cdebug.E2.80.9D_mode_and_.E2.80.9Crebuilding.E2.80.9D_the_database:"></a><h3> <span class="mw-headline">Notes regarding “debug” mode and “rebuilding” the database:</span></h3>
<p>It is suggested that you STOP miniDLNA before using either of these capabilities.
The author of this document has never tried running two processes of miniDLNA and the results are unknown.
</p><p>When running in Debug mode. The log file will not be created or updated.
Debug mode can be handy when doing a rebuild so that you can tell when it is finished, at which point your console will stop. However, if miniDLNA finds any files or artwork which is corrupt or contains a problem, you will need to note it as a log entry will not be made. If you rebuild in normal mode, miniDLNA will create an entry in the log for any files it finds that are not right, thereby allowing you to just check the log to find any errors or faults. You can choose which method works for you.
</p><p>Debug mode can also be handy to see the messages your TV sends and how miniDLNA responds. This may or may not help you work out why your TV does not do something you think it should. Decyphering the messages and commands received and sent are left as a reader exercise.
</p><p>To exit Debug mode, press the Control-C key combination.
</p><p>When running in Rebuild mode, miniDLNA will empty the database file and rebuild it from scratch. It will also rebuild any thumbnails although it won’t delete any existing thumbnails or those which may not be required due to file deletions or whatever.  If you manually delete or remove the <b>/tmp/minidlna/artwork</b> directory and its content, miniDLNA will recreate the structure and files required.
</p><p>If started in Rebuild mode, miniDLNA will continue to run after the rebuild is finished, but you won’t know when it has finished unless you know roughly how large the database will be. While it may take a few minutes to rebuild, it is suggested that you do rebuilds in debug mode so you can tell when it has finished and then “break” out of debug mode and restart miniDLNA in the normal fashion.
</p>
<a name="The_miniDLNA_configuration_file:" id="The_miniDLNA_configuration_file:"></a><h3> <span class="mw-headline">The miniDLNA configuration file:</span></h3>
<p>Filename: /etc/miniupnpd/minidlna.conf
</p><p>The file itself contains comments that should allow you to see what things are and what you can do. 
Items that might be of interest to those who have not looked at the file yet are:
</p><p>This is where you can tell miniDLNA to search for files in non-standard directories.
</p><p>You can change the name of the DLNA device shown in your TV
</p><p>You can add or change the names looked for when searching for cover artwork.
</p>
<a name="Notes_regarding_Artwork:" id="Notes_regarding_Artwork:"></a><h3> <span class="mw-headline">Notes regarding Artwork:</span></h3>
<p>As the standard Stora does not contain some of the key packages required it is assumed that the standard Stora version of miniDLNA does not support Artwork.
</p><p>While miniDLNA looks for artwork using specific filenames, it will also find artwork with the exact same filename as the media file if it has a jpg extension.
</p><p>If you have a directory with individual mp3 or movie files and a single artwork file which matches one of the “generic” filenames such as “cover.jpg”, then miniDLNA will create an individual thumbnail for each media file in the artwork directory. All of these thumbnails will be the same as the cover artwork.
</p>
<a name="Updating_miniDLNA_to_the_v1.0.18:" id="Updating_miniDLNA_to_the_v1.0.18:"></a><h2> <span class="mw-headline">Updating miniDLNA to the v1.0.18:</span></h2>
<p>See <a href="#Version_1.0.22" title="">below</a> for 1.0.22
</p><p>Download the following files:
</p><p><a href="https://sigri44.github.io/OpenStora/files/albums/uploads/miniDLNA-1_0_18-compiled.zip" class="external text" title="https://sigri44.github.io/OpenStora/files/albums/uploads/miniDLNA-1_0_18-compiled.zip" rel="nofollow">miniDLNA-1.0.18</a>
</p><p><a href="https://sigri44.github.io/OpenStora/files/albums/uploads/libjpeg_so_8_0_2.zip" class="external text" title="https://sigri44.github.io/OpenStora/files/albums/uploads/libjpeg_so_8_0_2.zip" rel="nofollow">libjpeg-8</a>
</p><p>Unpack/unzip the file to your local machine
</p><p>Copy the files to your Stora. Following assumes you copied it to the base of Stora "share" path, being <b>/home/0common</b>
</p><p>Login to the Stora as “root”
</p><p>&lt;note: This command STOPS the minidlna daemon&gt;
</p><p>-bash-3.2# /etc/init.d/minidlna.init stop
</p><p>-bash-3.2# chown root:root /home/0common/minidlna
</p><p>-bash-3.2# chown root:root /home/0common/libjpeg.so.8.0.2
</p><p>-bash-3.2# chmod 755 /home/0common/minidlna
</p><p>-bash-3.2# chmod 755 /home/0common/libjpeg.so.8.0.2
</p><p>-bash-3.2# cd /usr/sbin
</p><p>&lt;note: This command renames the current miniDLNA program – just in case&gt;
</p><p>-bash-3.2# mv minidlna minidlna.sav
</p><p>-bash-3.2# mv /home/0common/minidlna minidlna
</p><p>-bash-3.2# ls -al minidlna
</p><p>&lt;note: This should be the output from the "ls" command&gt;
</p><p>-rwxr-xr-x 1 root root 550973 Nov 21 17:05 minidlna
</p><p>&lt;note: now we need to sort out the libjpeg library&gt;
</p><p>&lt;note: we will place libjpeg onto our hard drive so we don’t waste flash&gt;
</p><p>-bash-3.2# cd /home/opt/lib
</p><p>-bash-3.2# mv /home/0common/libjpeg.so.8.0.2 libjpeg.so.8.0.2
</p><p>&lt;note: now we need to create links to the program which are version independent&gt;
</p><p>-bash-3.2# cd /
</p><p>-bash-3.2# ln -s /home/opt/lib/libjpeg.so.8.0.2 /home/opt/lib/libjpeg.so
</p><p>-bash-3.2# ln -s /home/opt/lib/libjpeg.so.8.0.2 /home/opt/lib/libjpeg.so.8
</p><p>-bash-3.2# ln -s /home/opt/lib/libjpeg.so.8.0.2 /usr/lib/libjpeg.so
</p><p>-bash-3.2# ln -s /home/opt/lib/libjpeg.so.8.0.2 /usr/lib/libjpeg.so.8
</p><p>-bash-3.2# ln -s /usr/lib/libFLAC.so.7.0.0 /usr/lib/libFLAC.so.8
</p><p>&lt;note: Basically, we are done, time to start miniDLNA and watch for errors&gt;
</p><p>-bash-3.2# cd /
</p><p>-bash-3.2# /etc/init.d/minidlna.init start
</p><p>&lt;note: if we didn’t get any errors, we are done&gt;
</p><p>If everything looks fine, you should stop miniDLNA and then do a “rebuild” so that the program can update your database and create thumbnails for any artwork you have. 
</p><p>First, make sure you are actually running the new version.
</p><p>Then stop it. Then get it to rebuild the database, then restart, then enjoy&nbsp;:)
</p><p>-bash-3.2# /usr/sbin/minidlna -V
</p><p>-bash-3.2# /etc/init.d/minidlna.init stop
</p><p>-bash-3.2# /usr/sbin/minidlna -d -f /etc/miniupnpd/minidlna.conf -R
</p><p>When you know it has finished, stop the process with Ctrl-C, then restart.
</p><p>-bash-3.2# /etc/init.d/minidlna.init start
</p><p>Enjoy.
</p><p><br />
</p>
<a name="Version_1.0.22" id="Version_1.0.22"></a><h2> <span class="mw-headline">Version 1.0.22</span></h2>
<p>There is a v1.0.22 binary available found in a <a href="http://dev.shyd.de/2011/08/minidlna-dockstar-dlna-server/" class="external text" title="http://dev.shyd.de/2011/08/minidlna-dockstar-dlna-server/" rel="nofollow">dockstar .deb file</a> that is a significant enhancement on the 1.0.17 and 1.0.18 versions.
</p><p>Testing has so far revealed no issues when used on a Stora though you lose the Netgear branding on the renderer and get an image of <a href="http://en.wikipedia.org/wiki/Tux" class="external text" title="http://en.wikipedia.org/wiki/Tux" rel="nofollow">Tux</a> instead.
</p><p>Release notes for the 1.0.22 version can be found on the <a href="http://sourceforge.net/projects/minidlna/files/minidlna/1.0.22/" class="external text" title="http://sourceforge.net/projects/minidlna/files/minidlna/1.0.22/" rel="nofollow">minidlna sourceforge page</a> and include the following improvements since 1.0.18...
</p>
<ul><li> Add bookmark support for some Samsung TV's.
</li><li> Fix detection of Samsung Series D models.
</li><li> Fix FF/REW of AVI files on Samsung Series B TV's.
</li><li> Fix AVI file streaming on Samsung A-Series TV's.
</li><li> Improve support for the NETGEAR Digital Entertainer Live (EVA2000).
</li><li> Add subtitle support for LG TV's and Blu-Ray players.
</li><li> Add client adaptation support for Toshiba Regza TV's.
</li><li> Add client adaptation support for Roku SoundBridge audio clients.
</li><li> Improve Sony client adaptation to allow support for more file types.
</li></ul>
<p>The downloads on the sourceforge page are for intel processors, i.e. not useable by the Stora.  Please use the link below for an ARM binary.
</p><p>To use it:
</p>
<ul><li> Download <a href="https://sigri44.github.io/OpenStora/files/albums/userpics/15704/minidlna_1_0_22-arm_compiled.zip" class="external text" title="https://sigri44.github.io/OpenStora/files/albums/userpics/15704/minidlna_1_0_22-arm_compiled.zip" rel="nofollow">miniDLNA-1.0.22</a>
</li><li> Follow the steps above.
</li></ul>
<a name="Comment_regarding_AVCHD_.28m2ts.29_on_Sony_equipment_with_1.0.18_version_of_miniDLNA" id="Comment_regarding_AVCHD_.28m2ts.29_on_Sony_equipment_with_1.0.18_version_of_miniDLNA"></a><h2> <span class="mw-headline">Comment regarding AVCHD (m2ts) on Sony equipment with 1.0.18 version of miniDLNA</span></h2>
<p>1.0.18 is quite an old version of miniDLNA, and does not display AVCHD on Sony TVs (and probably PS3s) as well as not having support for a lot of later Samsung and other vendor features.  To get it to do so, you may also like to try the following...
</p><p>As root (just like above)..
</p><p>bash-3.2# sqlite3 /tmp/minidlna/files.db 
</p><p>sqlite&gt; update details set dlna_pn="MPEG_TS_SD_EU;DLNA.ORG_OP=01;DLNA.ORG_CI=0" where path like "%.%TS";
</p><p>sqlite&gt; .exit
</p><p>According to a post on the Ubuntu forums this change allows Pausing, FF and RW of M2TS on miniDLNA 1.0.18 though version 1.0.22 offers this without having to manually run an SQL update.
</p>
<a name="AVCHD_Format" id="AVCHD_Format"></a><h3> <span class="mw-headline">AVCHD Format</span></h3>
<p>The supported format for AVCHD files on Sony TVs, (and possibly Blu-ray and media players and the PS3) is... 
</p>
<ul><li> MPEG2 Transport stream or .m2ts - this can be created with a tool called tsMuxer
</li><li> H264 video (also called AVC) @ level 4.1 or 4, possibly lower. Blu-ray content is usually 4.1, HDTV is usually 4.0 (in the UK at least)
</li><li> AC3 or MP2 audio.  AC3 is also known as Dolby digital. MP2 (not MP3 mis-written) is used in broadcast TV.
</li></ul>
<p>Enjoy also, <a href="https://sigri44.github.io/OpenStora/wiki/index_User:Craigchambers&amp;action=edit&amp;redlink=1" class="new" title="User:Craigchambers (page does not exist)">Craigchambers</a>
</p>
<!-- 
NewPP limit report
Preprocessor node count: 12/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key hardwar6_wiki:pcache:idhash:90-0!1!0!!en!2!edit=0 and timestamp 20111024114020 -->
<div class="printfooter">
Retrieved from "<a href=/wiki/index_MiniDLNA_How-To_(with_guide_to_updating)">/wiki/index_MiniDLNA_How-To_(with_guide_to_updating)</a>"</div>
						<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="https://sigri44.github.io/OpenStora/wiki/index_MiniDLNA_How-To_(with_guide_to_updating)" title="View the content page [c]" accesskey="c">Page</a></li>
				 <li id="ca-talk"><a href="https://sigri44.github.io/OpenStora/wiki/index_Talk:MiniDLNA_How-To_(with_guide_to_updating)" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-viewsource"><a href="https://sigri44.github.io/OpenStora/wiki/index_MiniDLNA_How-To_(with_guide_to_updating)&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				 <li id="ca-history"><a href="https://sigri44.github.io/OpenStora/wiki/index_MiniDLNA_How-To_(with_guide_to_updating)&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="https://sigri44.github.io/OpenStora/wiki/index_Special:UserLogin&amp;returnto=MiniDLNA_How-To_(with_guide_to_updating)" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/wiki/images/logo.png);" href="https://sigri44.github.io/OpenStora/"  title="Visit the main page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-Website'>
		<h5>Website</h5>
		<div class='pBody'>
			<ul>
				<li id="n-HHU-Home"><a href="http://www.hardwarehackersunite.com">HHU Home</a></li>
				<li id="n-HHU-Forum"><a href="http://www.hardwarehackersunite.com/phpBB3">HHU Forum</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-Wiki'>
		<h5>Wiki</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Main-Page"><a href="https://sigri44.github.io/OpenStora/wiki/index_Main_Page">Main Page</a></li>
				<li id="n-Recent-changes"><a href=/wiki/index_Special:Recentchanges">Recent changes</a></li>
				<li id="n-Help"><a href="https://sigri44.github.io/OpenStora/wiki/index_Help">Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="https://sigri44.github.io/OpenStora/wiki/index.php" id="searchform"><div>
				<input type='hidden' name="title" value="Special:Search"/>
				<input id="searchInput" name="search" type="text" title="Search OpenStora [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="https://sigri44.github.io/OpenStora/wiki/index_Special:WhatLinksHere/MiniDLNA_How-To_(with_guide_to_updating)" title="List of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="https://sigri44.github.io/OpenStora/wiki/index_Special:RecentChangesLinked/MiniDLNA_How-To_(with_guide_to_updating)" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="https://sigri44.github.io/OpenStora/wiki/index_Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="https://sigri44.github.io/OpenStora/wiki/index_MiniDLNA_How-To_(with_guide_to_updating)&amp;oldid=859&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="https://sigri44.github.io/OpenStora/wiki/index_MiniDLNA_How-To_(with_guide_to_updating)&amp;oldid=859" title="Permanent link to this revision of the page">Permanent link</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="https://sigri44.github.io/OpenStora/wiki/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
			<ul id="f-list">
					<li id="privacy"><a href="https://sigri44.github.io/OpenStora/wiki/index_OpenStora:Privacy_policy" title="OpenStora:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="https://sigri44.github.io/OpenStora/wiki/index_OpenStora:About" title="OpenStora:About">About OpenStora</a></li>
					<li id="disclaimer"><a href="https://sigri44.github.io/OpenStora/wiki/index_OpenStora:General_disclaimer" title="OpenStora:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-11919885-3");
pageTracker._trackPageview();
</script><!-- Served in 1.858 secs. --></body></html>
